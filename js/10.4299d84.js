(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"+s12":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{class:t.doorClass,style:t.doorStyle,domProps:{textContent:t._s(t.doorLabel)},on:{click:t.doorInteracted}},[t.hasImage?s("img",{attrs:{src:t.toggle.image,alt:t.toggle.label}}):t._e()])])},i=[];a._withStripped=!0;s("f3/d");var o={props:{door:{type:Object,default:null}},computed:{doorLabel:function(){return this.door.showLabel?this.door.label:""},doorClass:function(){return"interactable-door "+this.door.cssClass},hasImage:function(){return this.door.image},doorStyle:function(){if(this.door.position&&this.door.size)return"top: ".concat(this.door.position.top,"; left: ").concat(this.door.position.left,"; width: ").concat(this.door.size.width,"; height: ").concat(this.door.size.height,"; ")}},methods:{doorInteracted:function(){var t=this.$gamestate.isDoorUnlocked(this.door.name);if(!t&&this.door.locked){var e=this.$gamestate.getActiveItem();if(null===e||e.name!==this.door.key)return this.$root.$emit("alertMe",this.door.messages.locked||"Door is locked."),!1;var s=this.door.needsEnvironment;if(s&&!this.$gamestate.environmentHas(s))return this.$root.$emit("alertMe",this.door.messages.lacksEnvironment),!1;this.$root.$emit("alertMe",this.door.messages.unlocking)}this.$root.$emit("doorOpened",{door:this.door})}}},n=o,c=(s("9dzi"),s("KHd+")),r=Object(c["a"])(n,a,i,!1,null,null,null);r.options.__file="Door.vue";e["a"]=r.exports},"20Lr":function(t,e,s){},"2fjQ":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.overlayCss},[s("div",{class:t.backgroundCss})])},i=[];a._withStripped=!0;var o={props:{no_power:{type:Boolean,default:!1}},data:function(){return{}},computed:{backgroundCss:function(){var t="dark";return this.$gamestate.environmentHas("hasFlashlightCharge")&&(t="light"),this.$gamestate.environmentHas("generatorRunning")&&(this.no_power&&!this.$gamestate.environmentHas("hasFlashlightCharge")?t="dark":this.no_power||(t="")),!this.$gamestate.environmentHas("generatorRunning")&&this.$gamestate.environmentHas("hasLowFlashlightCharge")&&(t="light"),t},overlayCss:function(){var t="overlay";return!this.$gamestate.environmentHas("generatorRunning")&&this.$gamestate.environmentHas("hasLowFlashlightCharge")&&(t="overlay dim"),t}},mounted:function(){this.updateOverlay()},methods:{updateOverlay:function(){}}},n=o,c=(s("Tvcl"),s("KHd+")),r=Object(c["a"])(n,a,i,!1,null,null,null);r.options.__file="Overlay.vue";e["a"]=r.exports},"9XRE":function(t,e,s){},"9dzi":function(t,e,s){"use strict";var a=s("9XRE"),i=s.n(a);i.a},"ID+Z":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"illusion basement"},[s("Overlay"),s("Backpack"),s("Hand"),s("Toggle",{attrs:{toggle:t.fusebox},on:{switchInteracted:t.fuseSwitchInteracted}}),s("Toggle",{attrs:{toggle:t.generator},on:{switchInteracted:t.generatorSwitchInteracted}}),s("Door",{attrs:{door:t.toUtilityFromBasement}})],1)},i=[];a._withStripped=!0;var o=s("dcap"),n=s("wkVo"),c=s("NHfG"),r=s("+s12"),l=s("2fjQ"),m={components:{Overlay:l["a"],Backpack:n["a"],Hand:c["a"],Toggle:o["a"],Door:r["a"]},data:function(){return{toUtilityFromBasement:{label:"Back to utility room",name:"toUtilityFromBasement",destination:"house-utility",cssClass:"backButton",showLabel:!0},fusebox:{environmentChange:"fusesInstalled",label:"You see a fusebox. A couple of 20A fuses are blown",description:"Old-style fusebox.",image:"",activatedByItem:"fuses",losesItemOnActivation:!0,activatedByEnvironment:"",wasActivated:!1,position:{top:"35%",left:"25%"},size:{width:"10%",height:"20%"},messages:{default:"You see a fusebox. A couple of fuses are blown",activate:"You replaced the broken fuses.",deactivate:"You removed the fuses.",ifActivated:"It has a complete set of fuses.",wasActivated:"All fuses are blown.",lacksItem:"",itemInactive:"You need to install good 20A fuses."}},generator:{environmentChange:"generatorRunning",label:"Generator",description:"Four-stroke silent gerator.  JDM model.",allowsToggling:!0,image:"",activatedByEnvironment:"fusesInstalled",wasActivated:!1,position:{top:"40%",left:"53%"},size:{width:"10%",height:"20%"},messages:{default:"The generator is stopped.",activate:"You started the generator",deactivate:"You stopped the generator.",ifActivated:"Generator is humming quietly.",wasActivated:"No more fuel.",lacksEnvironment:"The generator starts but it sputters and stalls immediately."}}}},mounted:function(){this.$gamestate.environmentHas("hasFlashlightCharge")&&this.$gamestate.isDoorUnlocked("toKitchenFromF1H2")&&!this.$gamestate.environmentHas("flashlightWasCharged")&&(this.$gamestate.changeEnvironment({name:"hasFlashlightCharge",value:!1}),this.$gamestate.changeEnvironment({name:"hasLowFlashlightCharge",value:!0}),this.$root.$emit("alertMe","Your flashlight went dim.  It has just one bar left."))},methods:{generatorSwitchInteracted:function(t){var e=t.switch;this.$gamestate.switchIsActive(e)?e.allowsToggling?this.$root.$emit("switchInteracted",{action:"deactivate",switch:t.switch}):(console.log("Environment already altered."),this.$root.$emit("alertMe",e.messages.ifActivated||e.messages.default)):(this.$root.$emit("switchInteracted",{action:"activate",switch:e}),t.switch.activatedByItem&&(this.$gamestate.lostItem(e.activatedByItem),this.$root.$emit("itemsChanged")))},fuseSwitchInteracted:function(t){var e=t.switch;this.$gamestate.changeEnvironment({name:"fusesWereInstalled",value:!0}),this.$gamestate.switchIsActive(e)?(console.log("Environment already altered."),this.$root.$emit("alertMe",e.messages.ifActivated||e.messages.default)):this.$root.$emit("switchInteracted",{action:"activate",switch:e})}}},h=m,u=(s("IJiB"),s("KHd+")),d=Object(u["a"])(h,a,i,!1,null,null,null);d.options.__file="Basement.vue";e["default"]=d.exports},IJiB:function(t,e,s){"use strict";var a=s("ci34"),i=s.n(a);i.a},NHfG:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hand",on:{click:t.toggleBackpack}},[t.activeItem?s("div",{class:t.itemClass,attrs:{title:t.activeItem.label}}):t._e()])},i=[];a._withStripped=!0;var o={data:function(){return{activeItem:this.$gamestate.getActiveItem()}},computed:{itemClass:function(){return"item "+this.activeItem.cssClass}},mounted:function(){var t=this;this.$root.$on("setActiveItem",function(e){t.$root.$emit("closeBackpack"),t.$gamestate.setActiveItem(e),t.activeItem=e}),this.$root.$on("itemsChanged",function(){t.activeItem&&!t.$gamestate.hasItem(t.activeItem)&&(t.$gamestate.setActiveItem(null),t.activeItem=null)})},methods:{toggleBackpack:function(){this.$root.$emit("toggleBackpack")}}},n=o,c=(s("n9Y7"),s("KHd+")),r=Object(c["a"])(n,a,i,!1,null,null,null);r.options.__file="Hand.vue";e["a"]=r.exports},Tvcl:function(t,e,s){"use strict";var a=s("uRmG"),i=s.n(a);i.a},ci34:function(t,e,s){},dcap:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{class:t.switchClass,style:t.switchStyle,attrs:{title:t.switchLabel},on:{click:t.switchInteracted}},[t.hasImage?s("img",{attrs:{src:t.toggle.image,alt:t.toggle.label}}):t._e()])])},i=[];a._withStripped=!0;var o={props:{toggle:{type:Object,default:null}},computed:{switchLabel:function(){return this.toggle.label},switchClass:function(){return"interactable-switch "+this.toggle.cssClass},hasImage:function(){return this.toggle.image},switchStyle:function(){return"top: ".concat(this.toggle.position.top,"; left: ").concat(this.toggle.position.left,"; width: ").concat(this.toggle.size.width,"; height: ").concat(this.toggle.size.height,"; ")}},methods:{switchInteracted:function(){var t=this.toggle;if(t.activatedByItem&&!this.$gamestate.switchEnvironmentChangeIsActive(t.environmentChange)){if(!this.$gamestate.hasItem(t.activatedByItem))return console.log("Missing item fails. "+t.environmentChange),this.$root.$emit("alertMe",t.messages.lacksItem||t.messages.default),!1;if(!this.$gamestate.switchIsActivatableByItem(t))return console.log("Inactive item fails. "+t.activatedByItem),this.$root.$emit("alertMe",t.messages.itemInactive||t.messages.default),!1}if(t.activatedByEnvironment&&!this.$gamestate.switchIsActivatableByEnvironment(t))return console.log("Environment fails. "+t.activatedByEnvironment),this.$root.$emit("alertMe",t.messages.lacksEnvironment||t.messages.default),!1;this.$emit("switchInteracted",{switch:this.toggle})}}},n=o,c=s("KHd+"),r=Object(c["a"])(n,a,i,!1,null,null,null);r.options.__file="Switch.vue";e["a"]=r.exports},n9Y7:function(t,e,s){"use strict";var a=s("20Lr"),i=s.n(a);i.a},rHVV:function(t,e,s){"use strict";var a=s("ykYr"),i=s.n(a);i.a},uRmG:function(t,e,s){},wkVo:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.active?s("div",{staticClass:"backpack"},[s("div",{staticClass:"backpack--items"},[t._l(t.items,function(e){return s("div",{key:e.name,class:t.itemCss(e),attrs:{title:e.description},on:{click:function(s){t.describeItem(e)}}})}),s("div",{staticStyle:{clear:"both"}})],2),t.selectedItem?s("div",{staticClass:"backpack--description"},[s("label",{domProps:{textContent:t._s(t.selectedItem.label)}}),s("div",{domProps:{textContent:t._s(t.selectedItem.description)}}),t.isActive?t._e():s("span",{staticClass:"item-for-hand make-active",on:{click:t.setActiveItem}},[t._v("Use")]),t.isActive?s("span",{staticClass:"item-for-hand"},[t._v("You're holding this!")]):t._e()]):t._e(),s("button",{staticClass:"close-backpack",on:{click:t.closeBackpack}},[t._v("Close backpack")])]):t._e()},i=[];a._withStripped=!0;s("f3/d");var o={props:{},data:function(){return{active:!1,selectedItem:null,items:[]}},computed:{isActive:function(){return this.$gamestate.getActiveItem()&&this.selectedItem.name===this.$gamestate.getActiveItem().name}},mounted:function(){var t=this;this.$root.$on("toggleBackpack",function(){t.active=!t.active,t.active&&(t.$root.$emit("closeNotification"),t.items=t.$gamestate.getItems())}),this.$root.$on("closeBackpack",function(){t.active=!1}),this.$root.$on("itemsChanged",function(){t.items=t.$gamestate.getItems()})},methods:{itemCss:function(t){return console.log(t),"item "+t.cssClass},describeItem:function(t){this.selectedItem=t},setActiveItem:function(t){this.$root.$emit("setActiveItem",this.selectedItem)},closeBackpack:function(){this.$root.$emit("closeBackpack")}}},n=o,c=(s("rHVV"),s("KHd+")),r=Object(c["a"])(n,a,i,!1,null,null,null);r.options.__file="Backpack.vue";e["a"]=r.exports},ykYr:function(t,e,s){}}]);